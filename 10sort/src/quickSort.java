import java.util.Arrays;

/**
 * 快排
 *
 * @author ChanceZhou
 * @code this file2022-07-30-19:56
 */
public class quickSort {

    public static void main(String[] args) {
//        int[] nums = {2, 9,-9,7,-6,8,0};
        int[] nums = {804289383,846930886,681692777,714636915,957747793,424238335,719885386,649760492,596516649,189641421,25202362,350490027,783368690,102520059,44897763,967513926,365180540,540383426,304089172,303455736,35005211,521595368,294702567,726956429,336465782,861021530,278722862,233665123,145174067,468703135,101513929,801979802,315634022,635723058,369133069,125898167,59961393,89018456,628175011,656478042,131176229,653377373,859484421,914544919,608413784,756898537,734575198,973594324,149798315,38664370,129566413,184803526,412776091,424268980,911759956,749241873,137806862,42999170,982906996,135497281,511702305,84420925,937477084,827336327,572660336,159126505,805750846,632621729,100661313,433925857,141616124,84353895,939819582,1100545,998898814,548233367,610515434,585990364,374344043,760313750,477171087,356426808,945117276,889947178,780695788,709393584,491705403,918502651,752392754,474612399,53999932,264095060,411549676,843993368,943947739,984210012,855636226,749698586,469348094,956297539,36140795,463480570,40651434,975960378,317097467,892066601,376710097,927612902,330573317,603570492,687926652,660260756,959997301,485560280,402724286,593209441,194953865,894429689,364228444,947346619,221558440,270744729,63958031,633108117,114738097,7905771,469834481,822890675,610120709,791698927,631704567,498777856,255179497,524872353,327254586,572276965,269455306,703964683,352406219,600028624,160051528,40332871,112805732,120048829,378409503,515530019,713258270,573363368,409959708,77486715,373226340,631518149,200747796,289700723,117142618,168002245,150122846,439493451,990892921,760243555,231192379,622597488,111537764,338888228,147469841,438792350,911165193,269441500,142757034,116087764,869470124,155324914,8936987,982275856,275373743,387346491,350322227,841148365,960709859,760281936,771151432,186452551,244316437,971899228,476153275,213975407,139901474,626276121,653468858,130794395,239036029,884661237,605908235,350573793,76065818,605894428,789366143,987231011,875335928,784639529,103318776,597322404,939964443,112255763,432114613,67854538,352118606,782436840,909002904,165344818,395235128,532670688,351797369,492067917,504569917,680466996,706043324,496987743,159259470,359512183,480298490,398295499,96689772,86206725,601385644,172755590,544617505,243268139,12502954,272469786,27907669,968338082,722308542,820388464,933110197,6939507,740759355,285228804,789376348,502278611,450573622,37127828,34949299,654887343,529195746,392035568,335354340,87755422,889023311,494613810,447267605,369321801,745425661,396473730,308044878,346811305,569229320,705178736,590079444,434248626,977648522,470503465,402586708,552473416,143408282,188213258,559412924,884167637,473442062,201305624,238962600,776532036,238433452,273911899,431419379,620145550,665947468,619290071,707900973,407487131,113903881,7684930,776808933,711845894,404158660,937370163,58657199,973387981,642548899,501252996,260152959,472713773,824272813,662739668,25187190,967681095,850952926,437116466,704365084,176911340,638422090,943327684,953443376,876855542,69755936,237379107,349517445,588219756,856669179,57418418,995706887,823089412,65103348,625032172,387451659,469262009,562402336,298625210,295166342,57467587,799878206,555319301,382697713,476667372,70575321,260401255,296864819,774044599,697517721,1229904,950955939,335939811,797073940,756915667,65311705,719346228,846811127,414829150,307565984,555996658,324763920,155789224,231602422,389867269,780821396,619054081,711645630,195740084,917679292,6811972,253207672,570073850,414647625,635905385,46741222,337739299,896306640,343606042,111783898,446340713,197352298,915256190,782280524,846942590,524688209,700108581,566288819,371499336,114937732,726371155,927495994,292218004,882160379,11614769,682085273,662981776,630668850,246247255,858721860,548348142,105575579,964445884,118421993,520223205,452867621,17679567,857962504,201690613,213801961,822262754,648031326,411154259,737518944,282828202,110613202,114723506,982936784,676902021,486222842,950390868,255789528,266235189,242608872,137949908,277849958,777210498,653448036,908518808,23457753,364686248,309383303,129033333,329132133,280321648,501772890,781999754,150517567,212251746,983690368,364319529,34514500,484238046,775473788,624549797,767066249,886086990,739273303,750003033,415505363,78012497,552910253,671294892,344247686,795519125,661761152,474613996,425245975,315209188,235649157,448703729,679895436,545032460,430253414,861543921,677870460,932026304,496060028,828388027,144278050,332266748,192707556,31308902,816504794,820697697,655858699,583571043,559301039,395132002,186090428,974806403,473144500,739000681,498617647,669908538,387036159,12895151,144522535,812282134,328104339,380171692,113502215,860516127,777720504,543755629,722060049,455590964,328298285,70636429,136495343,472576335,402903177,329202900,503885238,219407971,2416949,12260289,655495367,561717988,407392292,841585795,389040743,733053144,433102829,887658390,402961682,672655340,900553541,400000569,337453826,81174232,780172261,450956042,941690360,410409117,847228023,516266761,866000081,175526309,586903190,2495425,500618996,989806367,184214677,4504234,61730690,186631626,16764524,717226057,748349614,276673168,411328205,137390358,9726312,696947386,877565100,265204346,369602726,630634994,665204916,707056552,564325578,297893529,10528946,358532290,708302647,857756970,874799051,426819080,885799631,314218593,281830857,386418627,156541312,318561886,243439214,70788355,505193512,112720090,788014412,106059479,241909610,51858969,95966189,104152274,748806355,826047641,369356620,970925433,309198987,887077888,530498338,873524566,37487770,541027284,232056856,745790417,251300606,959372260,25125849,137100237,126107205,159473059,376035217,282648518,478034945,471990783,353436873,983228458,584710873,993967637,941804289,826620483,45826607,37770478,930772757,647149314,716334471,152645729,470591100,25533459,39723618,1089438,899058025,77211388,394633074,983631233,675518157,645933681,943003493,553160358,635550270,69110699,712633417,864101839,204275569,190668363,336092622,410228794,26413173,773319847,404196431,968217462,452456682,302539390,858504292,235745791,802205057,427355115,388391521,272796157,452888574,280631491,126401947,204462951,210359231,521035021,40610537,738393740,19485054,983614030,291554098,655035325,905241081,4187516,371653516,962033002,47372231,707746139,372261796,73785404,333582338,628974580,894519218,786039021,931513970,605539862,21784812,586235379,32894977,262692685,859031536,338299904,543324176,985433483,395279207,606199759,358984857,435889744,344593499,378469911,272020127,488663950,33505236,29777560,345367818,257675105,991810563,392740049,965421244,216588711,319041805,151519934,845563291,66077375,937558955,629593614,524133589,959343768,215828993,409544918,74552805,927376882,747844822,617876982,765326717,143124030,76593093,124311574,431530126,421186593,502781486,703550253,909850543,388803074,733327814,107734713,646478179,725138377,500474762,464415775,941727088,672032919,615935710,639806732,738110294,406011017,269400346,114760235,217871137,337745691,524305153,292423943,265122573,124666328,910300925,30449291,120306710,986894018,7277217,551836836,260596963,362575055,255387090,22963858,751378130,988714904,130698571,250372661,566369633,483689685,567304789,360613073,155722604,35756851,419805,746349250,441767868,122336503,861109485,659639006,460082195,385414639,952062949,577721120,510080967,714880226,460686763,630387677,554290596,467963981,34740865,814887560,830539036,290127955,690367770,434433518,131359211,821066342,537322532,550245196,157272379,104627321,910858270,312994984,140384172,763794427,59344234,582152040,738647283,772970072,94307398,51245830,10901063,46370347,628966950,520982030,761250573,89653714,3886059,168057522,410134047,38626924,982945082,93189435,181271232,525829204,527622954,312630443,199411898,64945486,862875640,356684278,22089159,626250262,669679262,14989683,242561041,581539848,597141723,981208324,207026272,691449122,32454154,217927335,590335821,513937457,738909365,204102747,603591171,595311776,372160269,13725218,633938701,207621703,106914653,815209933,733450907,487053959,980356728,932862806,404515797,695748720,289547084,279121308,174515334,811742698,294110991,417076376,245798898,891252715,250801052,452825171,435218189,135771559,670752506,25554010,649709016,262178224,82173109,105816539,857490000,454333378,972058109,343945053,661955081,931489114,11671338,395405989,271059426,992028067,180785147,675575223,687776787,470332231,954696532,862292122,134591281,101323875,131884850,380390179,992576590,235202254,833215350,280311131,370973813,503967857,158381494,873199181,766146081,240554603,979015720,476152433,694887982,803590181,820097487,209359415,735079296,831768825,604765404,6138722,823796892,785550551,534230297,364090032,108399134,341443181,78898506,242990415,442767057,63299708,623380595,287859999,298501962,309112297,420687483,669475776,813080154,579068977,395191309,431742587,672139932,226723382,907895021,219544266,30313563,580508860,428903682,617909211,412277685,33669086,476564285,88590930,671735990,10794583,305197314,632651476,204754116,384095820,875641892,500037525,447395528,351538839,787897525,745897490,660651136,61101360,267889618,326247643,640170337,663080928,610506582,164826621,889804310,370917955,384370888,772634225,951426815,813274570,390543437,216220853,699460008,867107722,304811783,223712350,730418657,610009097,856363827,787689126,846621269,584522071,287726651,146533149,936060910,928140528,892430639,449228398,989241888,12836610,627992393,481928577,528433890,238498976,646755199,270754552,609416931,31126087,43388777,413360099,844400657,286448566,629580952,396377017,6072641,934392735,620089368,736491298,396918184,476453195,376696776,96055805,60975266,664423428,242588954,849552528,445080308,135019593,151297278,434322197,372555,779289672,916250774,528806445,870305000,415522325,799560997,332238283,446648412,695466127,745598382,143565421};
        System.out.println(Arrays.toString(nums));
        quickSort(nums, 0, nums.length-1);
        System.out.println(Arrays.toString(nums));

        int[] ans = {372555,419805,1089438,1100545,1229904,2416949,2495425,3886059,4187516,4504234,6072641,6138722,6811972,6939507,7277217,7684930,7905771,8936987,9726312,10528946,10794583,10901063,11614769,11671338,12260289,12502954,12836610,12895151,13725218,14989683,16764524,17679567,19485054,21784812,22089159,22963858,23457753,25125849,25187190,25202362,25533459,25554010,26413173,27907669,29777560,30313563,30449291,31126087,31308902,32454154,32894977,33505236,33669086,34514500,34740865,34949299,35005211,35756851,36140795,37127828,37487770,37770478,38626924,38664370,39723618,40332871,40610537,40651434,42999170,43388777,44897763,45826607,46370347,46741222,47372231,51245830,51858969,53999932,57418418,57467587,58657199,59344234,59961393,60975266,61101360,61730690,63299708,63958031,64945486,65103348,65311705,66077375,67854538,69110699,69755936,70575321,70636429,70788355,73785404,74552805,76065818,76593093,77211388,77486715,78012497,78898506,81174232,82173109,84353895,84420925,86206725,87755422,88590930,89018456,89653714,93189435,94307398,95966189,96055805,96689772,100661313,101323875,101513929,102520059,103318776,104152274,104627321,105575579,105816539,106059479,106914653,107734713,108399134,110613202,111537764,111783898,112255763,112720090,112805732,113502215,113903881,114723506,114738097,114760235,114937732,116087764,117142618,118421993,120048829,120306710,122336503,124311574,124666328,125898167,126107205,126401947,129033333,129566413,130698571,130794395,131176229,131359211,131884850,134591281,135019593,135497281,135771559,136495343,137100237,137390358,137806862,137949908,139901474,140384172,141616124,142757034,143124030,143408282,143565421,144278050,144522535,145174067,146533149,147469841,149798315,150122846,150517567,151297278,151519934,152645729,155324914,155722604,155789224,156541312,157272379,158381494,159126505,159259470,159473059,160051528,164826621,165344818,168002245,168057522,172755590,174515334,175526309,176911340,180785147,181271232,184214677,184803526,186090428,186452551,186631626,188213258,189641421,190668363,192707556,194953865,195740084,197352298,199411898,200747796,201305624,201690613,204102747,204275569,204462951,204754116,207026272,207621703,209359415,210359231,212251746,213801961,213975407,215828993,216220853,216588711,217871137,217927335,219407971,219544266,221558440,223712350,226723382,231192379,231602422,232056856,233665123,235202254,235649157,235745791,237379107,238433452,238498976,238962600,239036029,240554603,241909610,242561041,242588954,242608872,242990415,243268139,243439214,244316437,245798898,246247255,250372661,250801052,251300606,253207672,255179497,255387090,255789528,257675105,260152959,260401255,260596963,262178224,262692685,264095060,265122573,265204346,266235189,267889618,269400346,269441500,269455306,270744729,270754552,271059426,272020127,272469786,272796157,273911899,275373743,276673168,277849958,278722862,279121308,280311131,280321648,280631491,281830857,282648518,282828202,285228804,286448566,287726651,287859999,289547084,289700723,290127955,291554098,292218004,292423943,294110991,294702567,295166342,296864819,297893529,298501962,298625210,302539390,303455736,304089172,304811783,305197314,307565984,308044878,309112297,309198987,309383303,312630443,312994984,314218593,315209188,315634022,317097467,318561886,319041805,324763920,326247643,327254586,328104339,328298285,329132133,329202900,330573317,332238283,332266748,333582338,335354340,335939811,336092622,336465782,337453826,337739299,337745691,338299904,338888228,341443181,343606042,343945053,344247686,344593499,345367818,346811305,349517445,350322227,350490027,350573793,351538839,351797369,352118606,352406219,353436873,356426808,356684278,358532290,358984857,359512183,360613073,362575055,364090032,364228444,364319529,364686248,365180540,369133069,369321801,369356620,369602726,370917955,370973813,371499336,371653516,372160269,372261796,373226340,374344043,376035217,376696776,376710097,378409503,378469911,380171692,380390179,382697713,384095820,384370888,385414639,386418627,387036159,387346491,387451659,388391521,388803074,389040743,389867269,390543437,392035568,392740049,394633074,395132002,395191309,395235128,395279207,395405989,396377017,396473730,396918184,398295499,400000569,402586708,402724286,402903177,402961682,404158660,404196431,404515797,406011017,407392292,407487131,409544918,409959708,410134047,410228794,410409117,411154259,411328205,411549676,412277685,412776091,413360099,414647625,414829150,415505363,415522325,417076376,420687483,421186593,424238335,424268980,425245975,426819080,427355115,428903682,430253414,431419379,431530126,431742587,432114613,433102829,433925857,434248626,434322197,434433518,435218189,435889744,437116466,438792350,439493451,441767868,442767057,445080308,446340713,446648412,447267605,447395528,448703729,449228398,450573622,450956042,452456682,452825171,452867621,452888574,454333378,455590964,460082195,460686763,463480570,464415775,467963981,468703135,469262009,469348094,469834481,470332231,470503465,470591100,471990783,472576335,472713773,473144500,473442062,474612399,474613996,476152433,476153275,476453195,476564285,476667372,477171087,478034945,480298490,481928577,483689685,484238046,485560280,486222842,487053959,488663950,491705403,492067917,494613810,496060028,496987743,498617647,498777856,500037525,500474762,500618996,501252996,501772890,502278611,502781486,503885238,503967857,504569917,505193512,510080967,511702305,513937457,515530019,516266761,520223205,520982030,521035021,521595368,524133589,524305153,524688209,524872353,525829204,527622954,528433890,528806445,529195746,530498338,532670688,534230297,537322532,540383426,541027284,543324176,543755629,544617505,545032460,548233367,548348142,550245196,551836836,552473416,552910253,553160358,554290596,555319301,555996658,559301039,559412924,561717988,562402336,564325578,566288819,566369633,567304789,569229320,570073850,572276965,572660336,573363368,577721120,579068977,580508860,581539848,582152040,583571043,584522071,584710873,585990364,586235379,586903190,588219756,590079444,590335821,593209441,595311776,596516649,597141723,597322404,600028624,601385644,603570492,603591171,604765404,605539862,605894428,605908235,606199759,608413784,609416931,610009097,610120709,610506582,610515434,615935710,617876982,617909211,619054081,619290071,620089368,620145550,622597488,623380595,624549797,625032172,626250262,626276121,627992393,628175011,628966950,628974580,629580952,629593614,630387677,630634994,630668850,631518149,631704567,632621729,632651476,633108117,633938701,635550270,635723058,635905385,638422090,639806732,640170337,642548899,645933681,646478179,646755199,647149314,648031326,649709016,649760492,653377373,653448036,653468858,654887343,655035325,655495367,655858699,656478042,659639006,660260756,660651136,661761152,661955081,662739668,662981776,663080928,664423428,665204916,665947468,669475776,669679262,669908538,670752506,671294892,671735990,672032919,672139932,672655340,675518157,675575223,676902021,677870460,679895436,680466996,681692777,682085273,687776787,687926652,690367770,691449122,694887982,695466127,695748720,696947386,697517721,699460008,700108581,703550253,703964683,704365084,705178736,706043324,707056552,707746139,707900973,708302647,709393584,711645630,711845894,712633417,713258270,714636915,714880226,716334471,717226057,719346228,719885386,722060049,722308542,725138377,726371155,726956429,730418657,733053144,733327814,733450907,734575198,735079296,736491298,737518944,738110294,738393740,738647283,738909365,739000681,739273303,740759355,745425661,745598382,745790417,745897490,746349250,747844822,748349614,748806355,749241873,749698586,750003033,751378130,752392754,756898537,756915667,760243555,760281936,760313750,761250573,763794427,765326717,766146081,767066249,771151432,772634225,772970072,773319847,774044599,775473788,776532036,776808933,777210498,777720504,779289672,780172261,780695788,780821396,781999754,782280524,782436840,783368690,784639529,785550551,786039021,787689126,787897525,788014412,789366143,789376348,791698927,795519125,797073940,799560997,799878206,801979802,802205057,803590181,804289383,805750846,811742698,812282134,813080154,813274570,814887560,815209933,816504794,820097487,820388464,820697697,821066342,822262754,822890675,823089412,823796892,824272813,826047641,826620483,827336327,828388027,830539036,831768825,833215350,841148365,841585795,843993368,844400657,845563291,846621269,846811127,846930886,846942590,847228023,849552528,850952926,855636226,856363827,856669179,857490000,857756970,857962504,858504292,858721860,859031536,859484421,860516127,861021530,861109485,861543921,862292122,862875640,864101839,866000081,867107722,869470124,870305000,873199181,873524566,874799051,875335928,875641892,876855542,877565100,882160379,884167637,884661237,885799631,886086990,887077888,887658390,889023311,889804310,889947178,891252715,892066601,892430639,894429689,894519218,896306640,899058025,900553541,905241081,907895021,908518808,909002904,909850543,910300925,910858270,911165193,911759956,914544919,915256190,916250774,917679292,918502651,927376882,927495994,927612902,928140528,930772757,931489114,931513970,932026304,932862806,933110197,934392735,936060910,937370163,937477084,937558955,939819582,939964443,941690360,941727088,941804289,943003493,943327684,943947739,945117276,947346619,950390868,950955939,951426815,952062949,953443376,954696532,956297539,957747793,959343768,959372260,959997301,960709859,962033002,964445884,965421244,967513926,967681095,968217462,968338082,970925433,971899228,972058109,973387981,973594324,974806403,975960378,977648522,979015720,980356728,981208324,982275856,982906996,982936784,982945082,983228458,983614030,983631233,983690368,984210012,985433483,986894018,987231011,988714904,989241888,989806367,990892921,991810563,992028067,992576590,993967637,995706887,998898814};
        System.out.println(isSame(nums, ans));
    }


    private static void quickSort(int[] array, int start, int end) {
        if (start < end) {

            /*
            //27--37可以抽离出来作为partition函数
            int key = array[start];//用待排数组的第一个作为中枢
            int i = start;//i即为pivot
            for (int j = start + 1; j <= end; j++) {
                if (key > array[j]) {//小于等于中枢的元素，交换pivot后的位置，就是把小或者相等的元素全都搬到pivot后面
                    swap(array, j, ++i);
                }
            }
            //交换key和已经定好位置的i（pivot）
//            array[start] = array[i];//先挪，然后再把中枢放到指定位置
//            array[i] = key;
            swap(array, i, start);


            */
            int i = partition(array, start, end);
            quickSort(array, start, i - 1);
            quickSort(array, i + 1, end);
        }
    }

    public static int partition(int[] array, int start, int end){
        int key = array[start];//用待排数组的第一个作为中枢
        int i = start;//i即为pivot
        for (int j = start + 1; j <= end; j++) {
            if (key > array[j]) {//小于等于中枢的元素，交换pivot后的位置，就是把小或者相等的元素全都搬到pivot后面
                swap(array, j, ++i);
            }
        }
        //交换key和已经定好位置的i（pivot）
        // array[start] = array[i];//先挪，然后再把中枢放到指定位置
        //array[i] = key;
        swap(array, i, start);

        return i;

    }
    //交换两个数的值
    public static void swap(int[] A, int i, int j) {
        if (i != j) {
            A[i] ^= A[j];
            A[j] ^= A[i];
            A[i] ^= A[j];
        }
    }

/*
* 2p, 9,-9,7,-6,8,0
*   2p, 0,-9,7,-6,8,9
*   2p, 0,-9,7,-6,8,9
*   2p, 0,-9,-6,7,8,9
*   2p, 0,-9,-6,7(start),8,9 start=end while循环破坏， 交换-6和2p
*   -6, 0,-9,2p,7,8,9 return 2p位置的索引  3
* -6, 0,-9,   2p,   7,8,9
*
* */
/**  不知道为什么有误
    public static void quickSort(int[] nums, int start, int end) {
        if (start < end) {
            int pivot = partition(nums, start, end);
            System.out.printf("pivot: {%d}  nums[pivot]: {%d}\n",pivot, nums[pivot]);

            System.out.println();
            quickSort(nums, start, pivot - 1);
            quickSort(nums, pivot + 1, end);
        }

    }


    public static int partition(int[] nums, int start, int end) {
        int pivot = start;//取第一个当中枢
        start++;//从中枢后面开始
        while (start != end) {//或者start!=end
            //向右移动直到碰到第一个比中枢大的元素
            while (start < end && nums[start] <= nums[pivot]) start++;
            //从后向左移动直到碰到第一个比中枢小的元素
            while (start < end && nums[end] > nums[pivot]) end--;
            //交换这俩个元素
            swap(nums, start, end);
        }
        //start==end,交换start-1 的元素和pivot
        swap(nums, --start, pivot);
        pivot = start;//start-1位置为中枢
        return pivot;

    }

    public static void swap(int[] nums, int a, int b) {
        if(a!= b){
            nums[a] ^= nums[b];
            nums[b] ^= nums[a];
            nums[a] ^= nums[b];
        }
    }

*/

    public static boolean isSame(int[] nums1, int[] nums2){
        for (int i = 0; i < nums1.length; i++) {
            if(nums1[i] != nums2[i])return false;
        }
        return true;
    }
}